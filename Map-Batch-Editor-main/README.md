# Floor ZIP Generator

這是一個使用 Flutter 開發的桌面應用程式，旨在自動化處理地圖檔案的樓層變更。它可以讀取一個包含特定樓層（例如 `1F`）設定的 ZIP 範本檔案，並根據使用者輸入的目標樓層（例如 `2, 3, 5-7`），批次生成對應樓層的新 ZIP 檔案。

## 功能

- **跨平台支援**: 可在 Windows, macOS, 和 Linux 上執行。
- **檔案選擇**: 提供圖形化介面，方便使用者選擇來源 ZIP 檔案和輸出資料夾。
- **彈性的樓層輸入**: 支援單一樓層、多個樓層（用逗號分隔），以及樓層範圍（例如 `5-10`）。
- **非阻塞式 UI**: 檔案生成過程在背景執行，應用程式介面保持流暢，不會卡死。
- **即時進度回饋**:
    - 處理過程中會顯示載入指示器。
    - 所有操作按鈕在處理期間會被禁用，防止誤觸。
    - 提供詳細的執行日誌，並會自動捲動到最新訊息。
    - 可手動清除日誌。
- **高效能平行處理**: 應用程式會為每個目標樓層建立獨立的處理程序 (Isolate)，最大化利用 CPU 資源，並行生成檔案以縮短等待時間。
- **自動化檔案修改**:
    - **`graph.yaml`**: 自動尋找並取代檔案內的樓層標識符。
    - **`map.json`**: 自動更新 JSON 檔案中的 `name` 欄位以反映新樓層。
    - **`location.yaml`**: 根據特定規則更新 `location.yaml` 中的站點編號。

## 如何使用

1.  **選擇來源 ZIP**: 點擊「選擇來源 ZIP」按鈕，選擇一個符合命名規則（例如 `...1F.zip`）的範本檔案。
2.  **選擇輸出資料夾**: 點擊「選擇輸出資料夾」按鈕，指定生成的新 ZIP 檔案要存放的位置。
3.  **輸入目標樓層**: 在文字欄位中輸入您想生成的樓層。
    -   範例：`2` (只生成 2F)
    -   範例：`2, 5, 8` (生成 2F, 5F, 8F)
    -   範例：`3, 5-7, 10` (生成 3F, 5F, 6F, 7F, 10F)
4.  **執行生成**: 點擊「執行生成」按鈕。
5.  **查看日誌**: 在下方的日誌區塊檢視處理進度與結果。

## 從原始碼建置

如果您想自行建置此專案，請遵循以下步驟：

1.  確保您已安裝 [Flutter SDK](https://flutter.dev/docs/get-started/install)。
2.  Clone 此專案儲存庫。
3.  在專案根目錄下執行 `flutter pub get` 來安裝所有依賴套件。
4.  使用 `flutter run -d [windows|macos|linux]` 來執行應用程式。
